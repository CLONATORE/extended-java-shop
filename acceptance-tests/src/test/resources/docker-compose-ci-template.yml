version: '2'
services:
  shopfront:
    image: quiram/shopfront
    ports:
     - "8010:8010"
    depends_on:
      - productcatalogue
      - stockmanager
      - featureflags
    links:
      - productcatalogue
      - stockmanager
      - featureflags
  productcatalogue:
    image: quiram/productcatalogue
    ports:
     - "8020:8020"
  stockmanager:
    image: quiram/stockmanager
    ports:
     - "8030:8030"
  featureflags:
    image: quiram/featureflags
    ports:
     - "8040:8040"
    depends_on:
     - featureflags-db
    links:
     - featureflags-db
  featureflags-db:
    image: quiram/featureflags-db
    ports:
     - "5432:5432"

networks:
  default:
    external:
      name: %network_placeholder%